(function(e){var t={};function __webpack_require__(r){if(t[r]){return t[r].exports}var a=t[r]={i:r,l:false,exports:{}};e[r].call(a.exports,a,a.exports,__webpack_require__);a.l=true;return a.exports}__webpack_require__.m=e;__webpack_require__.c=t;__webpack_require__.d=function(e,t,r){if(!__webpack_require__.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:r})}};__webpack_require__.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};__webpack_require__.t=function(e,t){if(t&1)e=__webpack_require__(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var r=Object.create(null);__webpack_require__.r(r);Object.defineProperty(r,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var a in e)__webpack_require__.d(r,a,function(t){return e[t]}.bind(null,a));return r};__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e["default"]}:function getModuleExports(){return e};__webpack_require__.d(t,"a",t);return t};__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=16)})([function(e,t,r){"use strict";var a=r(1);var s=r(6);class Combo{static factory(e,t){e=a["a"].ordered(e);let r=t.map(e=>e.class);let s=t.map(e=>e.name);return new(Combo.find(e,r))(e,s)}static toCombos(e,t){if(e.length<=5){return Combo.factory(e,t)}let r=e.gemCombination(5).map(e=>Combo.factory(e,t));return r}static best(e){return Combo.ordered(e)[e.length-1]}static ordered(e){let t=e.sort((e,t)=>Combo.compareScore(e.score(),t.score()));return t}static compareScore(e,t){if(e[0]==t[0]){if(e[1]==t[1]){return 0}else{return e[1]>t[1]?1:-1}}else{return e[0]>t[0]?1:-1}}static find(e,t){return t.find(t=>t.isAvailable(e))}static occureds(e){let t={};e.forEach(e=>{let r=e.valueLabel()+"s";if(t[r]){t[r].push(e)}else{t[r]=[e]}});return t}constructor(e,t){this.list=t.reverse();this.cards=a["a"].ordered(e)}score(){return[this.typeScore(),this.evenScore()]}typeScore(){return this.list.indexOf(this.constructor.name)+1}evenScore(){let e=[4,3,2,1].map(e=>this.whereValueOccures(e)).flat();return parseInt(e.map(e=>e.valueScoreString()).gemUniq().join(""))}whereValueOccures(e){let t=Combo.occureds(this.cards);let r=Object.keys(t).map(r=>t[r].length==e?t[r]:null).flat().filter(Boolean);return a["a"].ordered(r)}name(){console.log(this.constructor.name);return s["a"].combos[this.constructor.name]}}t["a"]=Combo},function(e,t,r){"use strict";var a=r(5);var s=r.n(a);const n=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];const l=["two","three","four","five","six","seven","eight","nine","ten","jack","queen","king","ace"];const i=["d","c","h","s"];const c=["diamond","club","heart","spade"];class Card{static values(){return n}static valueLabels(){return l}static types(){return i}static fullTypes(){return c}static ordered(e){return e.sort((e,t)=>t.score()-e.score())}constructor(e){this.label=e}value(){return this.label.split("").slice(0,this.label.length-1).join("")}valueLabel(){return Card.valueLabels()[Card.values().indexOf(this.value())]}valueCard(){if(Card.values().indexOf(this.value())>8){return this.valueLabel()}else{return this.value()}}type(){return this.label.split("")[this.label.length-1]}fullType(){let e=Card.types().indexOf(this.type());return Card.fullTypes()[e]}score(){return parseInt(`${this.valueScore()}${this.typeScore()}`)}valueScore(){return Card.values().indexOf(this.value())+2}valueScoreString(){return this.valueScore().gemPad(2)}typeScore(){return Card.types().indexOf(this.type())+1}}t["a"]=Card},function(e,t,r){"use strict";var a=r(0);var s=r(4);var n=r.n(s);class Flush extends a["a"]{static isAvailable(e){let t=e.map(e=>e.type()).gemUniq();return t.length===1}}t["a"]=Flush},function(e,t,r){"use strict";var a=r(0);var s=r(1);class Straight extends a["a"]{static isAvailable(e){let t=e.map(e=>e.value());let r=Straight.all().find(e=>JSON.stringify(t)===JSON.stringify(e));return!!r}static all(){let e=[["A","5","4","3","2"]];s["a"].values().gemEachCons(5).forEach(t=>{e.push(t.reverse())});return e}}t["a"]=Straight},function(e,t){Array.prototype.gemEachCons=function(e){return Array.from({length:this.length-e+1},(t,r)=>this.slice(r,r+e))};Array.prototype.gemCombination=function(e){if(e>this.length||e<=0){return[]}if(e==this.length){return[this]}if(e==1){let e=[];for(let t=0;t<this.length;t++){e.push([this[t]])}return e}let t=[];for(let r=0;r<this.length-e+1;r++){let a=this.slice(r,r+1);let s=this.slice(r+1).gemCombination(e-1);for(let e=0;e<s.length;e++){t.push(a.concat(s[e]))}}return t};Array.prototype.gemUniq=function(){return[...new Set(this)]};e.exports=Array},function(e,t){Number.prototype.gemPad=function(e){var t=String(this);while(t.length<e){t="0"+t}return t};e.exports=Number},function(e,t,r){"use strict";let a={combos:{HighCard:"Hauteur",Pair:"Paire",TwoPairs:"Deux paires",ThreeOfAKind:"Brelan",Straight:"Suite",Flush:"Flush",FullHouse:"Full",FourOfAKind:"CarrÃ©",StraightFlush:"Quinte Flush",RoyalFlush:"Quinte Flush Royale"}};t["a"]=a},function(e,t,r){"use strict";var a=r(1);class Deck{constructor(){this._cards=a["a"].values().map(e=>a["a"].types().map(t=>new a["a"](e+t))).flat()}get cards(){return this._cards}shuffle(){let e=[];while(this._cards.length>0){let t=Math.floor(Math.random()*this._cards.length);e.push(this._cards[t]);this._cards.splice(t,1)}this._cards=e}}t["a"]=Deck},function(e,t,r){"use strict";var a=r(0);class RoyalFlush extends a["a"]{static isAvailable(e){let t=e.map(e=>e.value());let r=e.map(e=>e.type()).gemUniq();return JSON.stringify(t)===JSON.stringify(["A","K","Q","J","10"])&&r.length===1}}t["a"]=RoyalFlush},function(e,t,r){"use strict";var a=r(0);var s=r(2);var n=r(3);class StraightFlush extends a["a"]{static isAvailable(e){return n["a"].isAvailable(e)&&s["a"].isAvailable(e)}}t["a"]=StraightFlush},function(e,t,r){"use strict";var a=r(0);class FourOfAKind extends a["a"]{static isAvailable(e){let t=a["a"].occureds(e);return Object.values(t).map(e=>e.length).includes(4)}}t["a"]=FourOfAKind},function(e,t,r){"use strict";var a=r(0);class FullHouse extends a["a"]{static isAvailable(e){let t=a["a"].occureds(e);let r=Object.values(t).map(e=>e.length);return r.includes(3)&&r.includes(2)}}t["a"]=FullHouse},function(e,t,r){"use strict";var a=r(0);class ThreeOfAKind extends a["a"]{static isAvailable(e){let t=a["a"].occureds(e);let r=Object.values(t).map(e=>e.length);return r.includes(3)}}t["a"]=ThreeOfAKind},function(e,t,r){"use strict";var a=r(0);class TwoPairs extends a["a"]{static isAvailable(e){let t=a["a"].occureds(e);let r=Object.values(t).map(e=>e.length);return r.includes(2)&&r.indexOf(2)!==r.lastIndexOf(2)}}t["a"]=TwoPairs},function(e,t,r){"use strict";var a=r(0);class Pair extends a["a"]{static isAvailable(e){let t=a["a"].occureds(e);let r=Object.values(t).map(e=>e.length);return r.includes(2)}}t["a"]=Pair},function(e,t,r){"use strict";var a=r(0);class HighCard extends a["a"]{static isAvailable(e){return true}}t["a"]=HighCard},function(e,t,r){"use strict";r.r(t);var a=r(0);var s=r(7);var n=r(8);var l=r(9);var i=r(10);var c=r(11);var u=r(2);var o=r(3);var d=r(12);var m=r(13);var h=r(14);var f=r(15);var p=r(4);var _=r(5);const b=[{name:"RoyalFlush",class:n["a"]},{name:"StraightFlush",class:l["a"]},{name:"FourOfAKind",class:i["a"]},{name:"FullHouse",class:c["a"]},{name:"Flush",class:u["a"]},{name:"Straight",class:o["a"]},{name:"ThreeOfAKind",class:d["a"]},{name:"TwoPairs",class:m["a"]},{name:"Pair",class:h["a"]},{name:"HighCard",class:f["a"]}];const v=["arya","jon","tyrion","daenerys"];const g=["jack","daenerys-on-tilt","cersei"];let y=0;let S=0;let w=document.getElementById("hero");let O=document.getElementById("villain");let C=document.createElement("img");C.src=`./assets/images/players/${v[y]}.png`;w.append(C);let x=document.createElement("img");x.src=`./assets/images/players/${g[S]}.png`;O.append(x);let A,k,F,q,N;document.getElementById("deal").addEventListener("click",()=>{let e=document.getElementById("deal");let t=new s["a"];t.shuffle();let r=a["a"].best(a["a"].toCombos([t.cards[0],t.cards[1],t.cards[4],t.cards[5],t.cards[6],t.cards[7],t.cards[8]],b));let n=a["a"].best(a["a"].toCombos([t.cards[2],t.cards[3],t.cards[4],t.cards[5],t.cards[6],t.cards[7],t.cards[8]],b));let l=document.getElementById("hero-message");let i=document.getElementById("villain-message");let c=document.getElementById("win");let u=document.getElementById("loose");l.innerText=r.name();i.innerText=n.name();let o=a["a"].compareScore(r.score(),n.score());let d;if(o==0){l.className="combo";i.className="combo";c.className="button hide is-success";u.className="button hide is-danger";d=[r.cards,n.cards].flat().gemUniq()}else if(o==1){l.className="combo combo-win";i.className="combo combo-loose";c.className="button is-success";u.className="button hide is-danger";d=r.cards}else{l.className="combo combo-loose";i.className="combo combo-win";c.className="button hide is-success";u.className="button is-danger";d=n.cards}["player-1","player-2","player-3","player-4","flop-1","flop-2","flop-3","turn","river"].forEach((function(r,a){let s=document.getElementById(r);s.className="card bg-white";let n=document.createElement("img");let l=t.cards[a];if(d.includes(l)){s.className="card bg-white focus"}n.src=`assets/images/cards/${l.valueCard()}_of_${l.fullType()}s.png`;e.innerText="Rejouer";s.textContent="";s.append(n)}))})}]);